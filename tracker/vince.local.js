(function(){"use strict";var t,n,o,a,l,r=window.location,e=window.document,c=e.currentScript,h=c.getAttribute("data-api")||d(c);function u(e){console.warn("Ignoring Event: "+e)}function d(e){return new URL(e.src).origin+"/api/event"}function i(t,n){try{if(window.localStorage.vince_ignore==="true")return u("localStorage flag")}catch{}var o,s={};s.n=t,s.u=r.href,s.d=c.getAttribute("data-domain"),s.r=e.referrer||null,s.w=window.innerWidth,n&&n.meta&&(s.m=JSON.stringify(n.meta)),n&&n.props&&(s.p=n.props),o=new XMLHttpRequest,o.open("POST",h,!0),o.setRequestHeader("Content-Type","text/plain"),o.send(JSON.stringify(s)),o.onreadystatechange=function(){o.readyState===4&&n&&n.callback&&n.callback()}}a=window.vince&&window.vince.q||[],window.vince=i;for(t=0;t<a.length;t++)i.apply(this,a[t]);function s(){if(o===r.pathname)return;o=r.pathname,i("pageview")}n=window.history,n.pushState&&(l=n.pushState,n.pushState=function(){l.apply(this,arguments),s()},window.addEventListener("popstate",s));function m(){!o&&e.visibilityState==="visible"&&s()}e.visibilityState==="prerender"?e.addEventListener("visibilitychange",m):s()})()